Unit Testing Plan â€” Garden Stage Simulation

Goal:
The goal of this testing is to make sure that the small parts (functions) of my program
work correctly before running the full simulation. I will test the function called
stage_from_string() that changes a stage name like "SEEDLING", "GROWING", or "MATURE"
into a number. I will also test insert_from_csv_line(), which reads one line of data
and puts the plant name into the right place in the map.

How I will test:
I will use a small test program to check these functions. The program will try different
inputs and see if the output is what we expect. For example, if we send "SEEDLING" to
stage_from_string(), it should return the number for SEEDLING. If we send a wrong word
like "TREE", it should return -1. I will also test that good data lines are added to the
map and bad lines are ignored.

Expected result:
When all the tests work correctly, the test program will print:
"[OK] All unit tests passed."



-----Test_driver.cpp-------
#include <iostream>
#include <string>
#include <sstream>
#include <map>
#include <array>
#include <list>
    using namespace std;

enum Stage {SEEDLING = 0, GROWING =1, MATURE = 2};

using Buckets = array<list<string>, 3>;
using Env = map<string, Buckets>;

int stage_from_string(const string& s) {
    if (s == "SEEDLING") return SEEDLING;
    if (s == "GROWING")  return GROWING;
    if (s == "MATURE")   return MATURE;
    return -1;
}
bool insert_from_csv_line(const string& line, Env& env){
    if (!line.empty()) return true;
    istringstream ss(line);
    if(!getline(ss, plot, ',')) return false;
    if(!getline(ss, stageStr, ',')) return false;
    if(!getline(ss, plantId, ',')) return false;

    int st = stage_from_string(stageStr);
    if (st < 0) return false;
    env[plot][st].push_back(plantId);
    return true;

}
int main(){
    cout << "Testing stage_from_string";
    if (stage_from_string("SEEDLING") != SEEDLING) 
        cout << "FAIL" << endl;

    if(stage_from_string("GROWING") != GROWING)
        cout << "FAIL" << endl;
    if(stage_from_string("MATURE") != MATURE)
        cout << "FAIL" << endl;
    if(stage_from_string("TREE") != -1)
        cout << "FAIL" << endl;
    else
        cout << "All tests passed" << endl;
    cout << "\nTesting insert_from_csv_line()..." << endl;
    Env env;

    insert_from_csv_line("PLOT-A,SEEDLING,S001", env);
    insert_from_csv_line("PLOT-A,GROWING,S011", env);
    insert_from_csv_line("PLOT-A,MATURE,S016", env);
    insert_from_csv_line("PLOT-B,SEEDLING,S021", env);
    insert_from_csv_line("PLOT-C,WRONG,S099", env);

    cout << "Plot-A SEEDLING count: " << env["PLOT-A"][SEEDLING].size() << endl;
    cout << "Plot-A GROWING count: " << env["PLOT-A"][GROWING].size() << endl;    
    cout << "Plot-A MATURE count: " << env["PLOT-A"][MATURE].size() << endl;
    cout << "Plot-B SEEDLING count: " << env["PLOT-B"][SEEDLING].size() << endl;
    cout << "Plot-C MATURE count: " << env["PLOT-C"][MATURE].size() << endl;

cout << "\nIf all counts look correct, the test passed." << endl;
    return 0;
}